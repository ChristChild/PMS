@model PMS.Models.LeaveRequestViewModel

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Details</h1>

<div>
    <h4>Request for @Model.Employee.Lastname, @Model.Employee.Firstname</h4>
    <hr />

    @if (Model.Approved == null)
    {
        <div class="alert alert-warning" role="alert">
            <h4 class="alert-heading">Pending Approval!</h4>
            <p>
                <strong> @Html.DisplayNameFor(model => model.RequestingEmployeeId) :</strong>
                @Model.Employee.Lastname, @Model.Employee.Lastname,
                @Model.Employee.Lastname, @Model.Employee.Firstname
            </p>
            <hr>
            <p class="mb-0">
                @Html.DisplayFor(model => model.StartDate) -
                @Html.DisplayFor(model => model.EndDate)
            </p>
        </div>
    }
    @if (Model.Approved == true)
    {
        <div class="alert alert-success" role="alert">
            <h4 class="alert-heading">Approval by @Model.ApprovedBy.Lastname,  @Model.ApprovedBy.Firstname </h4>
            <p>
                <strong> @Html.DisplayNameFor(model => model.RequestingEmployeeId) :</strong>
                @Model.Employee.Lastname, @Model.Employee.Lastname,
            </p>
            <hr>
            <p class="mb-0">
                @Html.DisplayFor(model => model.StartDate) -
                @Html.DisplayFor(model => model.EndDate)
            </p>
        </div>
    }
    @if (Model.Approved == false)
    {
        <div class="alert alert-danger" role="alert">
            <h4 class="alert-heading">Rejected by @Model.ApprovedBy.Lastname,  @Model.ApprovedBy.Firstname </h4>
            <p>
                <strong>Employee:</strong>
                @Model.Employee.Lastname, @Model.Employee.Lastname,
            </p>
            <hr>
            <p class="mb-0">
                @Html.DisplayFor(model => model.StartDate) -
                @Html.DisplayFor(model => model.EndDate)
            </p>
        </div>
    }
<dl class="row">

    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.RequestingEmployeeId)
    </dt>
    <dd class="col-sm-10">
        @Model.Employee.Lastname, @Model.Employee.Lastname,
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.StartDate)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.StartDate)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.EndDate)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.EndDate)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.LeaveType.Name)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.LeaveType.Name)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.DateRequested)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.DateRequested)
    </dd>
    <dt class="col-sm-2">
        @Html.DisplayNameFor(model => model.RequestComment)
    </dt>
    <dd class="col-sm-10">
        @Html.DisplayFor(model => model.RequestComment)
    </dd>

</dl>
</div>
<div>
    @if (Model.Approved == null)
    {
        <a class="btn btn-success" asp-action="ApproveRequest" asp-route-id="@Model.Id">
            <i class="fa fa-tick"></i> Approve
        </a>

        <a class="btn btn-danger" asp-action="RejectRequest" asp-route-id="@Model.Id">
            <i class="fa fa-remove"></i> Reject
        </a>
    }



    <a class="btn btn-outline-primary" asp-action="Index">
        <i class="fa fa-arrow-left"></i> Back to list
    </a>

    @*<a asp-action="Index">Back to List</a>*@
</div>
